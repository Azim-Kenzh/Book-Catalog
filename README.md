# Каталог Книг


## Описание функционала

1. **Каталог книг:**
   - Пользователи могут просматривать список книг, отсортированный по различным параметрам, таким как жанр, автор и дата публикации.
   - Каждая книга в каталоге отображает информацию о названии, жанре, авторе, дате публикации и среднем рейтинге.
   - Пользователи могут просматривать дополнительные сведения о книге, включая описание и список отзывов.

2. **Фильтрация книг:**
   - Пользователи могут фильтровать книги по жанру, автору и дате публикации.

3. **Добавление книг в избранное:**
   - Авторизованные пользователи могут добавлять книги в избранное.
   - Книги, добавленные в избранное, отображаются с соответствующей меткой на странице каталога.

4. **Отзывы и рейтинг:**
   - Пользователи могут оставлять отзывы и ставить рейтинги книгам.
   - В списке книг отображается средний рейтинг, вычисляемый на основе всех оставленных отзывов.

5. **Избранные книги:**
   - Пользователи могут просматривать свой список избранных книг.
   - Книги, добавленные в избранное, отображаются на отдельной странице с возможностью удаления из списка.

6. **Аутентификация и авторизация:**
   - Пользователи могут регистрироваться и входить в систему через электронную почту.
   - Для выполнения определенных действий, таких как добавление книг в избранное или оставление отзывов, требуется аутентификация.

7. **Управление контентом через админ-панель:**
   - Администраторы могут добавлять, редактировать и удалять книги, жанры и авторов через админ-панель Django.


## Установка переменных среды

Для корректной работы необходимо настроить в файле следующие переменные среды `.env`:
```shell
         SECRET_KEY=YourSecretKeyHere
         ALLOWED_HOSTS=localhost
         POSTGRES_DB=book_catalog_db
         POSTGRES_USER=book_catalog_user
         POSTGRES_PASSWORD=book_catalog_password_2024
         POSTGRES_HOST=postgres
         POSTGRES_PORT=5432
         EMAIL_HOST=smtp.gmail.com
         EMAIL_USE_TLS=True
         EMAIL_PORT=587
         EMAIL_HOST_USER=your_email@gmail.com
         EMAIL_HOST_PASSWORD=your_email_password
```


## Запуск приложения

1. Сначала вам следует клонировать репозиторий на свой компьютер. Если вы еще этого не сделали, выполните следующую
   команду:
     ```
     git clone https://github.com/Azim-Kenzh/Book-Catalog.git
     ```

2. Перейдите в папку проекта:

     ```
     cd Book-Catalog
     ```

3. Запустите Docker Compose:

     ```
     docker compose up -d --build
     ```
   Это запустит все необходимые службы, перечисленные в вашем файле docker-compose.yml, включая ваше приложение Django,
   базу данных Postgres и другие.


4. Загрузка данных в БД:
    ```
    docker compose exec web ./manage.py loaddata data.json
   ```
   затем можете зайти в админпанель (email: admin@gmail.com, pass: 1234) -> http://localhost:2222/admin/


## Ипользование API 

### Регистрация/аутентификация

#### 1. Простая регистрация
![register.png](images%2Fregister.png)

#### 2. Регистрация с кодом активации 
![register_confirm.png](images%2Fregister_confirm.png)

![email_activate.png](images%2Femail_activate.png)

#### 3. Аутентификация через токен
![authentification.png](images%2Fauthentification.png)

### Главная страница

#### 1. Фильтрация (неавторизованный пользователь):
На данном скриншоте изображена страница каталога книг для неавторизованного пользователя. На этой странице не отображаются избранные книги.

Также автоматически вычисляется средний рейтинг книги

![home_page_no_auth.png](images%2Fhome_page_no_auth.png)

#### 2. Фильтрация (авторизованный пользователь):
На данном скриншоте изображена страница каталога книг для авторизованного пользователя. На этой странице присутствует дополнительная информация о том, является ли книга избранной для данного пользователя 

Также автоматически вычисляется средний рейтинг книги

![home_page_auth.png](images%2Fhome_page_auth.png)


### Детали книг
![book-detail.png](images%2Fbook-detail.png)



